<svg width="1200" height="400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .client-box { fill: #e6f3ff; stroke: #2563eb; stroke-width: 2; rx: 8; ry: 8; }
      .backend-box { fill: #f0f9ff; stroke: #0ea5e9; stroke-width: 2; rx: 8; ry: 8; }
      .idp-container { fill: #f8fafc; stroke: #6b7280; stroke-width: 2; rx: 8; ry: 8; }
      .google-section { fill: #fef5e7; stroke: #ea580c; stroke-width: 1; rx: 6; ry: 6; }
      .microsoft-section { fill: #e0f2fe; stroke: #0284c7; stroke-width: 1; rx: 6; ry: 6; }
      .keycloak-section { fill: #fef2f2; stroke: #dc2626; stroke-width: 1; rx: 6; ry: 6; }
      .final-box { fill: #f0fff4; stroke: #16a34a; stroke-width: 2; rx: 8; ry: 8; }
      .text { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-size: 12px; fill: #2d3748; }
      .title { font-weight: bold; font-size: 14px; }
      .small-text { font-size: 10px; }
      .main-arrow { stroke: #4a5568; stroke-width: 3; marker-end: url(#arrowhead-main); }
      .step-number { fill: #667eea; font-weight: bold; font-size: 16px; }
      .logo-text { font-size: 18px; font-weight: bold; }
    </style>
    <marker id="arrowhead-main" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4a5568" />
    </marker>
  </defs>
  
  <!-- Step Numbers -->
  <text x="100" y="25" class="text step-number">1. Client App</text>
  <text x="360" y="25" class="text step-number">2. Backend Detection</text>
  <text x="680" y="25" class="text step-number">3. Identity Providers</text>
  <text x="980" y="25" class="text step-number">4. Landing Page</text>
  
  <!-- Client App Block -->
  <rect class="client-box" x="20" y="50" width="160" height="100"/>
  <text x="100" y="75" class="text title" text-anchor="middle">📱 Client App</text>
  <text x="100" y="95" class="text" text-anchor="middle">(Web/Mobile)</text>
  <text x="100" y="115" class="text title" text-anchor="middle">Enter Email:</text>
  <text x="100" y="135" class="text" text-anchor="middle">user@domain.com</text>
  
  <!-- Arrow to Backend -->
  <line class="main-arrow" x1="180" y1="100" x2="280" y2="100"/>
  
  <!-- Backend Detection Block -->
  <rect class="backend-box" x="290" y="50" width="180" height="100"/>
  <text x="380" y="75" class="text title" text-anchor="middle">🔍 Application Backend</text>
  <text x="380" y="95" class="text title" text-anchor="middle">Domain Detection</text>
  <text x="380" y="115" class="text small-text" text-anchor="middle">gmail.com → Google</text>
  <text x="380" y="130" class="text small-text" text-anchor="middle">outlook.com → Microsoft</text>
  <text x="380" y="145" class="text small-text" text-anchor="middle">other → Keycloak</text>
  
  <!-- Arrow to IDP Container -->
  <line class="main-arrow" x1="470" y1="100" x2="580" y2="100"/>
  
  <!-- Login Hint Parameter Text -->
  <text x="525" y="90" class="text small-text" text-anchor="middle" fill="#4a5568">login_hint</text>
  
  <!-- Combined IDP Container Block -->
  <rect class="idp-container" x="590" y="50" width="180" height="200"/>
  <text x="680" y="75" class="text title" text-anchor="middle">🏢 Identity Providers</text>
  
  <!-- Google Section -->
  <rect class="google-section" x="600" y="85" width="160" height="50"/>
  <text x="680" y="105" class="logo-text" text-anchor="middle" fill="#ea580c">G</text>
  <text x="680" y="125" class="text title" text-anchor="middle">Google OAuth</text>
  
  <!-- Microsoft Section -->
  <rect class="microsoft-section" x="600" y="140" width="160" height="50"/>
  <text x="680" y="160" class="logo-text" text-anchor="middle" fill="#0284c7">⊞</text>
  <text x="680" y="180" class="text title" text-anchor="middle">Microsoft OAuth</text>
  
  <!-- Keycloak Section -->
  <rect class="keycloak-section" x="600" y="195" width="160" height="50"/>
  <text x="680" y="215" class="logo-text" text-anchor="middle" fill="#dc2626">🔐</text>
  <text x="680" y="235" class="text title" text-anchor="middle">Keycloak Direct</text>
  
  <!-- Arrow to Final Landing -->
  <line class="main-arrow" x1="770" y1="150" x2="880" y2="150"/>
  
  <!-- Final Landing Page Block -->
  <rect class="final-box" x="890" y="100" width="180" height="100"/>
  <text x="980" y="125" class="text title" text-anchor="middle">🏠 Application Landing</text>
  <text x="980" y="145" class="text" text-anchor="middle">Welcome User!</text>
  <text x="980" y="165" class="text" text-anchor="middle">user@domain.com</text>
  <text x="980" y="185" class="text title" text-anchor="middle">Authenticated via [IDP]</text>
  
  <!-- Flow Examples -->
  <g transform="translate(50, 280)">
    <text x="0" y="20" class="text title">Example Flows:</text>
    <text x="0" y="40" class="text">📧 user@gmail.com → Google OAuth → Landing Page</text>
    <text x="0" y="60" class="text">📧 user@outlook.com → Microsoft OAuth → Landing Page</text>
    <text x="0" y="80" class="text">📧 user@company.com → Keycloak Direct → Landing Page</text>
  </g>
  

</svg>